{
  "className":"sprouts.Property_View_Memory_Safety_Spec",
  "title":"Property View Memory Safety",
  "narrative":"Both the read only `Val` and the mutable `Var` are designed to be\n    used as part of a view model in a Model-View-ViewModel (MVVM) architecture\n    or Model-View-Intent (MVI) architecture.\n    As a consequence, they need to be observable in some way.\n    This is done by registering change listeners on \n    the \"views\" of properties, which are weakly referenced\n    live views of the original property which gets updated\n    automatically when the original property changes.\n    You can then subscribe to these views to get notified\n    of changes to the original property.\n\n    This is especially useful when you want to observe a property\n    of one type as a property of another type, or when you want to\n    observe a property with some transformation applied to it.\n\n    This specification shows how to create views from both nullable and non-nullable properties,\n    and it demonstrates how they may be garbage collected when they are no longer referenced.",
  "subjects":["sprouts.Val","sprouts.Var","sprouts.Viewable"],
  "statistics":{
    "runs":"68",
    "successRate":"100.0%",
    "failures":"0",
    "errors":"0",
    "skipped":"0",
    "duration":"?"
  },
  "headers":[],"tags":{},"see":[],
  "features":[ 
    {
      "id":"The change listener of property view parents are garbage collected when the view is no longer referenced strongly.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing.\n            These weak listeners are automatically removed when the view is garbage collected.\n            So when the property view is no longer referenced strongly, it should be\n            garbage collected and the weak listener should be removed\n            from the original property.\n\n            We can verify this by checking the reported number of change listeners.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We have an enum property based on the `TimeUnit` enum.","code":["var timeUnitProperty = Var.of(TimeUnit.SECONDS)"]},

        {"kind":"expect","text":"Initially there are no change listeners registered:","code":["timeUnitProperty.numberOfChangeListeners() == 0"]},

        {"kind":"when","text":"We create four unique views which we reference strongly.","code":["var ordinalView = timeUnitProperty.viewAsInt(TimeUnit::ordinal)","var nameView = timeUnitProperty.viewAsString(TimeUnit::name)","var nullableView = timeUnitProperty.viewAsNullable(Long, u -> u.ordinal() == 0 ? null : u.toMillis(1))","var nonNullView = timeUnitProperty.viewAs(Long, u -> u.toMillis(1))"]},

        {"kind":"then","text":"The enum property has 4 change listeners registered.","code":["timeUnitProperty.numberOfChangeListeners() == 4"]},

        {"kind":"when","text":"We create four more views which we do not reference strongly.","code":["timeUnitProperty.viewAsInt(TimeUnit::ordinal)","timeUnitProperty.viewAsString(TimeUnit::name)","timeUnitProperty.viewAsNullable(Long, u -> u.ordinal() == 0 ? null : u.toMillis(1))","timeUnitProperty.viewAs(Long, u -> u.toMillis(1))"]},

        {"kind":"and","text":"We wait for the garbage collector to run.","code":["waitForGarbageCollection()","Thread.sleep(500)"]},

        {"kind":"then","text":"The enum property still has 2 change listeners registered.","code":["timeUnitProperty.numberOfChangeListeners() == 4"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"You can subscribe and unsubscribe observer lambdas on property views.()",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property is like a publisher that can have multiple observers.\n            In this test we create a property view and a change observer that listens to changes on the view\n            and is then unsubscribed, which should prevent further notifications.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"A property based on an enum.","code":["var weekDay = Var.of(DayOfWeek.FRIDAY)"]},

        {"kind":"and","text":"A view of the property as a String.","code":["Val<String> view = weekDay.viewAsString(DayOfWeek::name)"]},

        {"kind":"and","text":"A trace list and a change listener that listens to changes on the view.","code":["var trace = []","Observer observer = { trace << view.get() }"]},

        {"kind":"expect","text":"The trace list is empty.","code":["trace.isEmpty()"]},

        {"kind":"when","text":"We subscribe the listener to the view.","code":["view.subscribe(observer)"]},

        {"kind":"then","text":"The listener is not immediately notified!","code":["trace.isEmpty()"]},

        {"kind":"when","text":"We change the value of the property 2 times.","code":["weekDay.set(DayOfWeek.SATURDAY)","weekDay.set(DayOfWeek.WEDNESDAY)"]},

        {"kind":"then","text":"The listener is notified of the new value of the view.","code":["trace == [\"SATURDAY\", \"WEDNESDAY\"]"]},

        {"kind":"when","text":"We unsubscribe the listener from the view.","code":["view.unsubscribe(observer)"]},

        {"kind":"and","text":"We change the value of the property.","code":["weekDay.set(DayOfWeek.MONDAY)"]},

        {"kind":"then","text":"The listener is not notified of the new value of the view.","code":["trace == [\"SATURDAY\", \"WEDNESDAY\"]"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"You can subscribe and unsubscribe action lambdas on property views.()",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property is like a publisher that can have multiple action listeners.\n            In this test we create a property view and an action listener that listens to changes on the view\n            and is then unsubscribed, which should prevent further notifications.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"A property based on an enum.","code":["var monthProperty = Var.of(Month.AUGUST)"]},

        {"kind":"and","text":"A view of the property as a String.","code":["Val<String> view = monthProperty.viewAsString(Month::name)"]},

        {"kind":"and","text":"A trace list and a change listener that listens to changes on the view.","code":["var trace = []","Action<Val<String>> action = { trace << it.get() }"]},

        {"kind":"expect","text":"The trace list is empty and there are no change listeners registered.","code":["trace.isEmpty()","view.numberOfChangeListeners() == 0"]},

        {"kind":"when","text":"We subscribe the listener to the view.","code":["view.onChange(From.ALL, action)"]},

        {"kind":"then","text":"The listener is not immediately notified, but there is one change listener registered.","code":["trace.isEmpty()","view.numberOfChangeListeners() == 1"]},

        {"kind":"when","text":"We change the value of the property 2 times.","code":["monthProperty.set(Month.SEPTEMBER)","monthProperty.set(Month.NOVEMBER)"]},

        {"kind":"then","text":"The listener is notified of the new value of the view.","code":["trace == [\"SEPTEMBER\", \"NOVEMBER\"]"]},

        {"kind":"when","text":"We unsubscribe the listener from the view.","code":["view.unsubscribe(action)"]},

        {"kind":"and","text":"We change the value of the property.","code":["monthProperty.set(Month.FEBRUARY)"]},

        {"kind":"then","text":"The listener is not notified of the new value of the view.","code":["trace == [\"SEPTEMBER\", \"NOVEMBER\"]"]},

        {"kind":"and","text":"There are no change listeners registered.","code":["view.numberOfChangeListeners() == 0"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"A chain of views may not be garbage collected.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            Every view holds a reference to the source property it is viewing.\n            So if a chain of views is created, the source property will be referenced by all views in the chain.\n            These references may be weak references if the parent property is not a view itself.\n            This is also true for lenses, which are also always strong references.\n            A plain property on the other hand is weakly referenced by the views.\n            So the chain of views may not be garbage collected if the source property is not garbage collected.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"A property based on an enum.","code":["var dayOfWeekProp = Var.of(DayOfWeek.FRIDAY)"]},

        {"kind":"and","text":"A chain of views.","code":["Val<String> view1 = dayOfWeekProp.viewAsString(DayOfWeek::name)","Val<String> view2 = view1.view(s -> s + \" is a good day\")","Val<String> view3 = view2.view(s -> s + \" to have a party\")"]},

        {"kind":"and","text":"\n            Now we store all of these references in a list of WeakReference objects.\n            This way we can check which of the references are still present\n            after awaiting garbage collection.\n        ","code":["var refs = [","        new WeakReference(dayOfWeekProp), new WeakReference(view1),","        new WeakReference(view2), new WeakReference(view3)","    ]"]},

        {"kind":"expect","text":"All references are still present after awaiting garbage collection.","code":["refs.every( it -> it.get() != null )"]},

        {"kind":"and","text":"Each property has the expected number of change listeners for their respective child.","code":["dayOfWeekProp.numberOfChangeListeners() == 1","view1.numberOfChangeListeners() == 1","view2.numberOfChangeListeners() == 1","view3.numberOfChangeListeners() == 0"]},

        {"kind":"when","text":"We now remove the intermediate views from the chain.","code":["view1 = null","view2 = null"]},

        {"kind":"and","text":"We await garbage collection.","code":["waitForGarbageCollection()","Thread.sleep(500)"]},

        {"kind":"then","text":"Every reference is still present.","code":["refs.every( it -> it.get() != null )"]},

        {"kind":"when","text":"We remove the last view from the chain.","code":["view3 = null"]},

        {"kind":"and","text":"We await garbage collection.","code":["waitForGarbageCollection()","Thread.sleep(500)"]},

        {"kind":"then","text":"All views were garbage collected, but the source is still there.","code":["refs[0].get() != null","refs[1].get() == null","refs[2].get() == null","refs[3].get() == null"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Properties can be garbage collected, even if they are observed by a composite view.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            If you create a composite property of two other properties,\n            then these two properties may be garbage collected if they are not used anymore\n            even if you still hold onto the composite property.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"Two properties we will dereference later.","code":["Var<DayOfWeek> day = Var.of(DayOfWeek.MONDAY)","Var<String> name = Var.of(\"John\")"]},

        {"kind":"and","text":"A composite property that observes the two properties.","code":["Viewable<String> composite = Val.viewOf(name, day, (n,d) -> n + \" \" + d.name().toLowerCase())"]},

        {"kind":"expect","text":"The composite property is \"John monday\" initially.","code":["composite.get() == \"John monday\""]},

        {"kind":"when","text":"We wrap the two properties in `WeakReference` objects.","code":["def dayRef = new WeakReference(day)","def nameRef = new WeakReference(name)"]},

        {"kind":"and","text":"We dereference the strong references to the two properties.","code":["day = null","name = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The composite property is still \"John monday\".","code":["composite.get() == \"John monday\""]},

        {"kind":"and","text":"The two properties are gone.","code":["dayRef.get() == null","nameRef.get() == null"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Properties can be garbage collected, even if they are observed by a nullable composite view.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            If you create a nullable composite property of two other properties,\n            then these two properties may be garbage collected if they are not used anymore\n            even if you still hold onto the composite property.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"Two properties we will dereference later.","code":["Var<Month> month = Var.of(Month.JANUARY)","Var<String> name = Var.of(\"Linda\")"]},

        {"kind":"and","text":"A nullable composite property that observes the two properties.","code":["Viewable<String> composite = Val.viewOfNullable(name, month, (n,m) -> n + \" \" + m.name().toLowerCase())"]},

        {"kind":"expect","text":"The composite property is \"Linda january\" initially.","code":["composite.get() == \"Linda january\""]},

        {"kind":"when","text":"We wrap the two properties in `WeakReference` objects.","code":["def monthRef = new WeakReference(month)","def nameRef = new WeakReference(name)"]},

        {"kind":"and","text":"We dereference the strong references to the two properties.","code":["month = null","name = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The composite property is still \"Linda january\".","code":["composite.get() == \"Linda january\""]},

        {"kind":"and","text":"The two properties are gone.","code":["monthRef.get() == null","nameRef.get() == null"]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"A composite view of 2 properties will not break if the first observed property is garbage collected.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            If you create a composite property of two other properties\n            and one of these source properties is garbage collected,\n            then the composite property will still be updated\n            based on the last known value of the collected property.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"","code":["Var<String> a = Var.of(\"A\")","Var<String> b = Var.of(\"B\")","Val<String> c = Val.viewOf(a, b, (x, y) -> x + y)","var weakA = new WeakReference(a)"]},

        {"kind":"expect","text":"","code":["c.get() == \"AB\""]},

        {"kind":"when","text":"We get rid of the only strong reference to the first property.","code":["a = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"We can confirm, the first property `a` was garbage collected:","code":["weakA.get() == null"]},

        {"kind":"when","text":"We then change the value of the second property.","code":["b.set(\"b\")"]},

        {"kind":"then","text":"\n            Despite the fact that the first property `a` was garbage collected,\n            the composite property `c` is still updated based on the last known value of `a`.\n        ","code":["c.get() == \"Ab\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"A composite view of 2 properties will not break if the second observed property is garbage collected.",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            If you create a composite property of two other properties\n            and the second property is garbage collected,\n            then the composite property will still be updated\n            from the state of the first property and the last\n            known state of the second property.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"","code":["Var<String> a = Var.of(\"A\")","Var<String> b = Var.of(\"B\")","Viewable<String> c = Val.viewOf(a, b, (x, y) -> x + y)","var weakB = new WeakReference(b)"]},

        {"kind":"expect","text":"","code":["c.get() == \"AB\""]},

        {"kind":"when","text":"We get rid of the only strong reference to the second property.","code":["b = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"We can confirm, the second property `b` was garbage collected:","code":["weakB.get() == null"]},

        {"kind":"when","text":"We change the value of the first property...","code":["a.set(\"a\")"]},

        {"kind":"then","text":"\n            Despite the fact that the second property `b` was garbage collected before,\n            the composite property `c` is still updated based on the last known value of `b`.\n        ","code":["c.get() == \"aB\""]}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [0]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [1]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [2]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [3]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [4]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [5]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [6]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [7]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [8]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [9]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [10]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [11]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [12]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [13]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [14]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [15]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [16]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [17]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [18]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [19]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [20]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [21]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [22]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [23]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [24]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [25]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [26]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [27]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [28]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [29]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [30]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [31]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [32]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [33]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [34]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [35]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [36]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [37]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [38]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [39]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [40]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [41]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [42]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [43]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [44]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [45]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [46]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [47]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [48]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [49]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [50]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [51]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [52]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [53]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [54]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [55]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [56]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [57]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [58]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    },
  
    {
      "id":"Even if property views have change listeners, they will be garbage collected if you do not reference them. [59]",
      "result":"PASS",
      "duration":"?",
      "iterations":{
      "tags":{},"see":[],"extraInfo":["\n            A property view registers a weak action listener on the original parent property\n            it is actively viewing. These weak listeners are automatically removed \n            when the view becomes eligible for garbage collection.\n            So when the property view is no longer referenced strongly in your code, \n            it will be garbage collected together with all of its change listeners.\n\n            So when the source property changes, or when you fire a change event on a source property\n            manually, the change listeners of the view will not be triggered anymore.\n        "]
      },
      "blocks":[
        {"kind":"given","text":"We create the property and reference it strongly.","code":["Val<?> property = propertySupplier.get()"]},

        {"kind":"and","text":"Then we create a view of the property which we also reference weakly.","code":["Val<?> view = property.view()","var weakView = new WeakReference(view)"]},

        {"kind":"and","text":"Finally a hashmap used as a trace for every channel.","code":["var trace = [(From.VIEW_MODEL): [], (From.VIEW):[], (From.ALL): []]"]},

        {"kind":"and","text":"We register an observer for every channel.","code":["view.onChange(From.VIEW_MODEL, it -> trace[it.channel()] << \"View Model\")","view.onChange(From.VIEW, it -> trace[it.channel()] << \"View\")","view.onChange(From.ALL, it -> trace[it.channel()] << \"All\")"]},

        {"kind":"when","text":"We now fire a change event on every channel.","code":["property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that every observer was triggered.","code":["trace[From.VIEW_MODEL] == [\"View Model\", \"All\"]","trace[From.VIEW] == [\"View\", \"All\"]","trace[From.ALL] == [\"View Model\", \"View\", \"All\"]"]},

        {"kind":"when","text":"We now get rid of the strong reference to the view.","code":["view = null"]},

        {"kind":"and","text":"We wait for the garbage collector to do its job.","code":["waitForGarbageCollection()"]},

        {"kind":"then","text":"The view is gone.","code":["weakView.get() == null"]},

        {"kind":"when","text":"We now clear the trace and fire on every channel again.","code":["trace[From.VIEW_MODEL].clear()","trace[From.VIEW].clear()","trace[From.ALL].clear()","property.fireChange(From.VIEW_MODEL)","property.fireChange(From.VIEW)","property.fireChange(From.ALL)"]},

        {"kind":"then","text":"The trace shows that no observer was triggered.","code":["trace[From.VIEW_MODEL] == []","trace[From.VIEW] == []","trace[From.ALL] == []"]},

        {"kind":"where","text":"","code":{"propertySupplier":["{ Var.of(42) }","{ Var.of(\"Hello\") }","{ Var.of(DayOfWeek.MONDAY) }","{ Var.of(Month.JANUARY) }","{ Var.ofNull(Integer) }","{ Var.ofNull(String) }","{ Var.ofNull(DayOfWeek) }","{ Var.ofNull(Month) }","{ Vars.of(1, 2, 3).viewSize() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute) }","{ Var.of(42).view() }","{ Var.of(\"Hello\").view() }","{ Var.of(DayOfWeek.MONDAY).view() }","{ Var.of(Month.JANUARY).view() }","{ Var.ofNull(Integer).view() }","{ Var.ofNull(String).view() }","{ Var.ofNull(DayOfWeek).view() }","{ Var.ofNull(Month).view() }","{ Vars.of(1, 2, 3).viewSize().view() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).view() }","{ Var.of(42).viewAsString() }","{ Var.of(\"Hello\").viewAsString() }","{ Var.of(DayOfWeek.MONDAY).viewAsString() }","{ Var.of(Month.JANUARY).viewAsString() }","{ Var.ofNull(Integer).viewAsString() }","{ Var.ofNull(String).viewAsString() }","{ Var.ofNull(DayOfWeek).viewAsString() }","{ Var.ofNull(Month).viewAsString() }","{ Vars.of(1, 2, 3).viewSize().viewAsString() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewAsString() }","{ Var.of(42).viewIsPresent() }","{ Var.of(\"Hello\").viewIsPresent() }","{ Var.of(DayOfWeek.MONDAY).viewIsPresent() }","{ Var.of(Month.JANUARY).viewIsPresent() }","{ Var.ofNull(Integer).viewIsPresent() }","{ Var.ofNull(String).viewIsPresent() }","{ Var.ofNull(DayOfWeek).viewIsPresent() }","{ Var.ofNull(Month).viewIsPresent() }","{ Vars.of(1, 2, 3).viewSize().viewIsPresent() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsPresent() }","{ Var.of(42).viewIsEmpty() }","{ Var.of(\"Hello\").viewIsEmpty() }","{ Var.of(DayOfWeek.MONDAY).viewIsEmpty() }","{ Var.of(Month.JANUARY).viewIsEmpty() }","{ Var.ofNull(Integer).viewIsEmpty() }","{ Var.ofNull(String).viewIsEmpty() }","{ Var.ofNull(DayOfWeek).viewIsEmpty() }","{ Var.ofNull(Month).viewIsEmpty() }","{ Vars.of(1, 2, 3).viewSize().viewIsEmpty() }","{ Var.of(LocalDateTime.now()).zoomTo(LocalDateTime::getMinute, LocalDateTime::withMinute).viewIsEmpty() }","{ Var.of(\"Hello\").viewAsInt( s -> s.length() ) }","{ Var.of(\"World\").viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.of(42).viewAsNullable( MonthDay, i -> i < 0 ? null : MonthDay.of(1, i % 28) ) }","{ Var.of(42).viewAs( MonthDay, i -> MonthDay.of(1, i % 28) ) }","{ Var.of(64).viewAs( DayOfWeek, i -> DayOfWeek.of(i % 7) ) }","{ Var.ofNull(String).viewAsInt( s -> s.length() ) }","{ Var.ofNull(String).viewAsDouble( s -> s.length() / 1.5 ) }","{ Var.ofNull(Integer).viewAsNullable( DayOfWeek, i -> i < 0 ? null : i ) }","{ Var.ofNull(Integer).view( DayOfWeek.MONDAY, i -> DayOfWeek.of(i % 7) ) }","{ Vars.of('a', 'b', 'c').viewSize() }",""]}}
      ],
      "problems":{"dataValues":[], "errors":[]}
    }
  
  ],
  "generator":"https://github.com/renatoathaydes/spock-reports"
}
